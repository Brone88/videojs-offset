/**
 * videojs-offset
 * @version 2.0.0-beta.2
 * @copyright 2018 Carles Galan Cladera <cgcladera@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("video.js")):"function"==typeof define&&define.amd?define(["exports","video.js"],e):e(t.videojsOffset={},t.videojs)}(this,function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e;var i={},r=(e.registerPlugin||e.plugin,function s(){var t=this.currentTime();t<0&&(this.currentTime(0),this.play()),this._offsetEnd>0&&t>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",s),this.pause(),this.trigger("ended"),this._restartBeginning?(this.trigger("loadstart"),this.currentTime(0)):this.currentTime(this._offsetEnd-this._offsetStart))}),n=function(t,e){t.one("play",function(){t.on("timeupdate",r)})};t.offset=function(t){var r=this;t=t||{};var s=this.constructor;this._offsetStart=parseFloat(t.start||"0"),this._offsetEnd=parseFloat(t.end||"0"),this._restartBeginning=t.restart_beginning||!1,s.__super__&&s.__super__.__offsetInit||(s.__super__={__offsetInit:!0,duration:s.prototype.duration,currentTime:s.prototype.currentTime,bufferedPercent:s.prototype.bufferedPercent,remainingTime:s.prototype.remainingTime},s.prototype.duration=function(){return this._offsetEnd>0?this._offsetEnd-this._offsetStart:s.__super__.duration.apply(this,arguments)-this._offsetStart},s.prototype.currentTime=function(t){return t!==undefined?s.__super__.currentTime.call(this,t+this._offsetStart):s.__super__.currentTime.apply(this)-this._offsetStart},s.prototype.remainingTime=function(){return this.duration()-this.currentTime()},s.prototype.startOffset=function(){return this._offsetStart},s.prototype.endOffset=function(){return this._offsetEnd>0?this._offsetEnd:this.duration()}),this.ready(function(){n(r,e.mergeOptions(i,t))})},Object.defineProperty(t,"__esModule",{value:!0})});